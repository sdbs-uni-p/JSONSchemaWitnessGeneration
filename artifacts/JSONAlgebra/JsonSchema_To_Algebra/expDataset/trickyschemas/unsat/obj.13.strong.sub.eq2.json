{
  "allOf": [
    {
      "type": "object",
      "patternProperties": {
        "^a": {
          "type": "string",
          "_pattern": "a|b|c",
          "pattern": "c|aa",
          "_patternWeak": "a|b?|c"
        }
      },
      "additionalProperties": {
        "type": "string",
        "pattern": "(a|b)c",
        "maxLength": 2
      }
    },
    {
      "not": {
        "type": "object",
        "patternProperties": {
          "^a": {
            "type": "string",
            "pattern": "a|b|c"
          },
          "^b": {
            "type": "string",
            "pattern": "^(a|b)c$"
          },
          "^c": {
            "type": "string",
            "enum": [
              "ac",
              "bc"
            ]
          }
        },
        "additionalProperties": {
          "type": "string",
          "pattern": "ac|bc",
          "maxLength": 2
        }
      }
    }
  ]
}
