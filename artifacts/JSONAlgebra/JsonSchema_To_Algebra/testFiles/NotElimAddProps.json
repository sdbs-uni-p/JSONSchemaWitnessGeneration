{
  "anyOf": [
    {
      "$ref": "#/definitions/notProps",
      "not": {
        "$ref": "#/definitions/withVars"
      }
    },
    {
      "$ref": "#/definitions/withVars",
      "not": {
        "$ref": "#/definitions/notProps"
      }
    }
  ],
  "definitions": {
    "u110": {
      "allOf": [
        {
          "$ref": "#/definitions/u010"
        },
        {
          "$ref": "#/definitions/u020"
        }
      ]
    },
    "u111": {
      "anyOf": [
        {
          "allOf": [
            {
              "$ref": "#/definitions/u010"
            },
            {
              "$ref": "#/definitions/u021"
            }
          ]
        },
        {
          "allOf": [
            {
              "$ref": "#/definitions/u011"
            },
            {
              "$ref": "#/definitions/u020"
            }
          ]
        }
      ]
    },
    "u112": true,
    "u120": {
      "allOf": [
        {
          "$ref": "#/definitions/u030"
        },
        {
          "$ref": "#/definitions/u040"
        }
      ]
    },
    "u121": {
      "anyOf": [
        {
          "allOf": [
            {
              "$ref": "#/definitions/u030"
            },
            {
              "$ref": "#/definitions/u041"
            }
          ]
        },
        {
          "allOf": [
            {
              "$ref": "#/definitions/u031"
            },
            {
              "$ref": "#/definitions/u040"
            }
          ]
        }
      ]
    },
    "u122": true,
    "u210": {
      "allOf": [
        {
          "$ref": "#/definitions/u110"
        },
        {
          "$ref": "#/definitions/u120"
        }
      ]
    },
    "u211": {
      "anyOf": [
        {
          "allOf": [
            {
              "$ref": "#/definitions/u110"
            },
            {
              "$ref": "#/definitions/u121"
            }
          ]
        },
        {
          "allOf": [
            {
              "$ref": "#/definitions/u111"
            },
            {
              "$ref": "#/definitions/u120"
            }
          ]
        }
      ]
    },
    "u212": {
      "anyOf": [
        {
          "allOf": [
            {
              "$ref": "#/definitions/u110"
            },
            {
              "$ref": "#/definitions/u122"
            }
          ]
        },
        {
          "allOf": [
            {
              "$ref": "#/definitions/u111"
            },
            {
              "$ref": "#/definitions/u121"
            }
          ]
        },
        {
          "allOf": [
            {
              "$ref": "#/definitions/u112"
            },
            {
              "$ref": "#/definitions/u120"
            }
          ]
        }
      ]
    },
    "u213": {
      "anyOf": [
        {
          "allOf": [
            {
              "$ref": "#/definitions/u111"
            },
            {
              "$ref": "#/definitions/u122"
            }
          ]
        },
        {
          "allOf": [
            {
              "$ref": "#/definitions/u112"
            },
            {
              "$ref": "#/definitions/u121"
            }
          ]
        }
      ]
    },
    "u040": true,
    "u030": {
      "patternProperties": {
        "^a3$": false
      },
      "additionalProperties": true
    },
    "u041": true,
    "u020": {
      "patternProperties": {
        "^a2$": false
      },
      "additionalProperties": true
    },
    "u031": true,
    "u010": {
      "patternProperties": {
        "^a1$": false
      },
      "additionalProperties": true
    },
    "u021": true,
    "u011": true,
    "withVars": {
      "type": "object",
      "anyOf": [
        {
          "$ref": "#/definitions/u210",
          "minProperties": 1
        },
        {
          "$ref": "#/definitions/u211",
          "minProperties": 2
        },
        {
          "$ref": "#/definitions/u212",
          "minProperties": 3
        },
        {
          "$ref": "#/definitions/u213",
          "minProperties": 4
        }
      ]
    },
    "notProps": {
      "not": {
        "patternProperties": {
          "^a2$": true,
          "^a1$": true,
          "^a3$": true
        },
        "additionalProperties": false
      }
    }
  }
}