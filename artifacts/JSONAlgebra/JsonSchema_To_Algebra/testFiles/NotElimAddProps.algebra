"equiv"
 defs
 [
   "equiv" : anyOf [ allOf [ ref("notProps"), not(ref("withVars")) ] , allOf [ ref("withVars"), not(ref("notProps")) ] ],
   "notProps" : not ( props [ "^a1$" : true , "^a2$" : true , "^a3$" : true   ; false ] ),
   "withVars" : allOf [ type[obj] ,
                        anyOf [ allOf [ ref("210"), pro(1,inf) ],
                                allOf [ ref("211"), pro(2,inf) ],
                                allOf [ ref("212"), pro(3,inf) ],
                                allOf [ ref("213"), pro(4,inf) ] 
                              ]
		],
   "010" : props ["^a1$":false ; true],
   "020" : props ["^a2$":false ; true],
   "030" : props ["^a3$":false ; true],
   "040" : true,
   "110" : allOf [ ref("010"), ref("020") ],
   "111" : anyOf [ allOf [ ref("010"), ref("021") ],
                   allOf [ ref("011"), ref("020") ]
		   ],
   "120" : allOf [ ref("030"), ref("040") ],
   "121" : anyOf [ allOf [ ref("030"), ref("041") ],
                   allOf [ ref("031"), ref("040") ]
		   ],
   "210" : allOf [ ref("110"), ref("120") ],
   "211" : anyOf [ allOf [ ref("110"), ref("121") ],
                   allOf [ ref("111"), ref("120") ]
		   ],
   "212" : anyOf [ allOf [ ref("110"), ref("122") ],
                   allOf [ ref("111"), ref("121") ],
                   allOf [ ref("112"), ref("120") ]
		   ],
   "213" : anyOf [ allOf [ ref("111"), ref("122") ],
                   allOf [ ref("112"), ref("121") ]
		   ],
   "011" : true,
   "021" : true,
   "031" : true,
   "041" : true,
   "112" : true,
   "122" : true
]
