{
  "allOf": [
    {
      "$schema": "http://json-schema.org/draft-04/schema",
      "title": "JSON schema for Typings TypeScript definitions manager",
      "type": "object",
      "additionalProperties": true,
      "properties": {
        "ambient": {
          "description": "A flag denoting whether this definition should be installed as ambient to the most likely target environment",
          "type": "boolean"
        },
        "ambientDependencies": {
          "description": "A map of environment dependencies that may need installing",
          "type": "object",
          "additionalProperties": {
            "type": "string"
          }
        },
        "ambientDevDependencies": {
          "description": "A map of environment development dependencies that may need installing",
          "type": "object",
          "additionalProperties": {
            "type": "string"
          }
        },
        "browser": {
          "description": "A string or map of paths to override when resolving",
          "type": [
            "object",
            "string"
          ]
        },
        "dependencies": {
          "description": "A map of dependencies that need installing",
          "type": "object",
          "additionalProperties": {
            "type": "string"
          }
        },
        "devDependencies": {
          "description": "A map of development dependencies that need installing",
          "type": "object",
          "additionalProperties": {
            "type": "string"
          }
        },
        "main": {
          "description": "The entry point to the definition (analogous to 'main' in npm's package.json file)",
          "type": "string"
        },
        "name": {
          "description": "The name of this definition",
          "type": "string"
        }
      }
    },
    {
      "not": {
        "$schema": "http://json-schema.org/draft-04/schema",
        "title": "JSON schema for Typings TypeScript definitions manager",
        "type": "object",
        "additionalProperties": true,
        "properties": {
          "main": {
            "description": "The entry point to the definition (canonical to `\"main\"` in NPM's `package.json`).",
            "type": "string"
          },
          "browser": {
            "description": "A string, or map of paths, to override during resolution. See spec: https://github.com/defunctzombie/package-browser-field-spec",
            "type": [
              "object",
              "string"
            ]
          },
          "version": {
            "description": "The semver range this definition is typed for",
            "type": "string"
          },
          "files": {
            "description": "Used as an alternative or to complement `main`, specify an array of files that are exported but aren't already part of the resolution from `main`.",
            "type": [
              "string"
            ]
          },
          "ambient": {
            "description": "Denote that this definition _must_ be installed as ambient.",
            "type": "boolean"
          },
          "postmessage": {
            "description": "A message to emit to users after typings installation.",
            "type": "string"
          },
          "name": {
            "description": "The name of the definition",
            "type": "string"
          },
          "dependencies": {
            "description": "A map of dependencies required by the project.",
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          },
          "devDependencies": {
            "description": "A map of dependencies required by the project during development.",
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          },
          "peerDependencies": {
            "description": "A map of dependencies expected in the parent project for this dependency to work.",
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          },
          "ambientDependencies": {
            "description": "A map of global dependencies required by the project.",
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          },
          "ambientDevDependencies": {
            "description": "A map of global dependencies required by the project during development.",
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          }
        }
      }
    }
  ]
}
